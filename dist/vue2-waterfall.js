/*!
 * An AutoHeight Waterfall Component For Vue2
 * v1.0.9 Â©2018 PLDaily <pcd12321@gmail.com>
 * https://github.com/PLDaily/vue2-waterfall#readme
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Vue2Waterfall=e():t.Vue2Waterfall=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=5)}([function(t,e){function n(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=i(r);return[n].concat(r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"})).concat([o]).join("\n")}return[n].join("\n")}function i(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=n(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var s=t[r];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(t,e,n){function i(t){for(var e=0;e<t.length;e++){var n=t[e],i=l[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(o(n.parts[r]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{for(var s=[],r=0;r<n.parts.length;r++)s.push(o(n.parts[r]));l[n.id]={id:n.id,refs:1,parts:s}}}}function r(){var t=document.createElement("style");return t.type="text/css",f.appendChild(t),t}function o(t){var e,n,i=document.querySelector("style["+g+'~="'+t.id+'"]');if(i){if(p)return m;i.parentNode.removeChild(i)}if(y){var o=c++;i=d||(d=r()),e=s.bind(null,i,o,!1),n=s.bind(null,i,o,!0)}else i=r(),e=a.bind(null,i),n=function(){i.parentNode.removeChild(i)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else n()}}function s(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=_(e,r);else{var o=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function a(t,e){var n=e.css,i=e.media,r=e.sourceMap;if(i&&t.setAttribute("media",i),v.ssrId&&t.setAttribute(g,e.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var u="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!u)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var h=n(9),l={},f=u&&(document.head||document.getElementsByTagName("head")[0]),d=null,c=0,p=!1,m=function(){},v=null,g="data-vue-ssr-id",y="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,n,r){p=n,v=r||{};var o=h(t,e);return i(o),function(e){for(var n=[],r=0;r<o.length;r++){var s=o[r],a=l[s.id];a.refs--,n.push(a)}e?(o=h(t,e),i(o)):o=[];for(var r=0;r<n.length;r++){var a=n[r];if(0===a.refs){for(var u=0;u<a.parts.length;u++)a.parts[u]();delete l[a.id]}}}};var _=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t,e,n,i,r,o){var s,a=t=t||{},u=typeof t.default;"object"!==u&&"function"!==u||(s=t,a=t.default);var h="function"==typeof a?a.options:a;e&&(h.render=e.render,h.staticRenderFns=e.staticRenderFns,h._compiled=!0),n&&(h.functional=!0),r&&(h._scopeId=r);var l;if(o?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},h._ssrRegister=l):i&&(l=i),l){var f=h.functional,d=f?h.render:h.beforeCreate;f?(h._injectStyles=l,h.render=function(t,e){return l.call(e),d(t,e)}):h.beforeCreate=d?[].concat(d,l):[l]}return{esModule:s,exports:a,options:h}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10);e.default={name:"Waterfall",props:{gutterWidth:{type:Number,default:0},gutterHeight:{type:Number,default:0},resizable:{type:Boolean,default:!0},align:{type:String,default:"center"},fixWidth:{type:Number},minCol:{type:Number,default:1},maxCol:{type:Number},percent:{type:Array}},data:function(){return{timer:null,colNum:0,lastWidth:0,percentWidthArr:[]}},created:function(){var t=this;this.$on("itemRender",function(){t.timer&&clearTimeout(t.timer),t.timer=setTimeout(function(){t.render()},0)})},mounted:function(){this.resizeHandle(),this.$watch("resizable",this.resizeHandle)},methods:{calulate:function(t){var e=this.fixWidth?this.fixWidth:this.$el.offsetWidth;if(this.percent){this.colNum=this.percent.length;var n=(0,i.sum)(this.percent);this.percentWidthArr=this.percent.map(function(t){return t/n*e}),this.lastWidth=0}else this.colNum=parseInt(e/(t.width+this.gutterWidth)),this.minCol&&this.colNum<this.minCol?(this.colNum=this.minCol,this.lastWidth=0):this.maxCol&&this.colNum>this.maxCol?(this.colNum=this.maxCol,this.lastWidth=e-(t.width+this.gutterWidth)*this.colNum+this.gutterWidth):this.lastWidth=e-(t.width+this.gutterWidth)*this.colNum+this.gutterWidth},resizeHandle:function(){this.resizable?i._.on(window,"resize",this.render,!1):i._.off(window,"resize",this.render,!1)},render:function(){var t=this,e=[];e=this.$children.map(function(t){return t.getMeta()}),e=(0,i.quickSort)(e,"order"),this.calulate(e[0]);var n=Array.apply(null,Array(this.colNum||0)).map(function(){return 0});e.forEach(function(e){var r=(0,i.getMinIndex)(n);if(t.percent){var o=0;if(e.el.style.width=t.percentWidthArr[r]+"px",0===r)o=0;else for(var s=0;s<r;s++)o+=t.percentWidthArr[s];e.el.style.left=o+"px"}else"left"===t.align?e.el.style.left=r*(e.width+t.gutterWidth)+"px":"right"===t.align?e.el.style.left=r*(e.width+t.gutterWidth)+t.lastWidth+"px":e.el.style.left=r*(e.width+t.gutterWidth)+t.lastWidth/2+"px";0!==e.height&&(e.el.style.top=n[r]+"px",n[r]+=e.height+t.gutterHeight,t.$el.style.height=Math.max.apply(Math,n)+"px")}),this.$emit("rendered",this)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(15),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default={name:"WaterfallItem",props:{order:{type:Number,default:0},width:{type:Number,default:150}},data:function(){return{itemWidth:0,height:0}},created:function(){var t=this;this.$watch(function(){return t.height},this.emit)},mounted:function(){var t=this;this.$el.style.display="none",this.$el.style.width=this.width+"px",this.emit(),(0,r.default)(this.$el,function(){t.$el.style.left="-9999px",t.$el.style.top="-9999px",t.$el.style.display="block",t.height=t.$el.offsetHeight,t.itemWidth=t.$el.offsetWidth})},methods:{emit:function(){this.$parent.$emit("itemRender")},getMeta:function(){return{el:this.$el,height:this.height,width:this.itemWidth,order:this.order}}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.WaterfallItem=e.Waterfall=void 0;var r=n(6),o=i(r),s=n(12),a=i(s);e.Waterfall=o.default,e.WaterfallItem=a.default},function(t,e,n){"use strict";function i(t){u||n(7)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n.n(r);for(var s in r)"default"!==s&&function(t){n.d(e,t,function(){return r[t]})}(s);var a=n(11),u=!1,h=n(2),l=i,f=h(o.a,a.a,!1,l,null,null);f.options.__file="src/Waterfall.vue",e.default=f.exports},function(t,e,n){var i=n(8);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(1)("6d8fb14a",i,!1,{})},function(t,e,n){e=t.exports=n(0)(!1),e.push([t.i,"\n.waterfall {\n  position: relative;\n}\n",""])},function(t,e){t.exports=function(t,e){for(var n=[],i={},r=0;r<e.length;r++){var o=e[r],s=o[0],a=o[1],u=o[2],h=o[3],l={id:t+":"+r,css:a,media:u,sourceMap:h};i[s]?i[s].parts.push(l):n.push(i[s]={id:s,parts:[l]})}return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function t(e,n){var i=[],r=[],o=void 0;if(e.length<=1)return e;o=e[0];for(var s=1;s<e.length;s++)e[s][n]<o[n]?i.push(e[s]):r.push(e[s]);return t(i,n).concat(o,t(r,n))},r=function(t){for(var e=0,n=0;n<t.length;n++)t[e]>t[n]&&(e=n);return e},o={on:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.addEventListener(e,n,i)},off:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.removeEventListener(e,n,i)}},s=function(t){return t.reduce(function(t,e){return t+e})};e.quickSort=i,e.getMinIndex=r,e._=o,e.sum=s},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"waterfall"},[t._t("default")],2)},r=[];i._withStripped=!0;var o={render:i,staticRenderFns:r};e.a=o},function(t,e,n){"use strict";function i(t){u||n(13)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),o=n.n(r);for(var s in r)"default"!==s&&function(t){n.d(e,t,function(){return r[t]})}(s);var a=n(17),u=!1,h=n(2),l=i,f=h(o.a,a.a,!1,l,null,null);f.options.__file="src/WaterfallItem.vue",e.default=f.exports},function(t,e,n){var i=n(14);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(1)("167e9a45",i,!1,{})},function(t,e,n){e=t.exports=n(0)(!1),e.push([t.i,"\n.waterfall-item {\n  position: absolute;\n}\n",""])},function(t,e,n){var i,r;/*!
 * imagesLoaded v4.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
!function(o,s){"use strict";i=[n(16)],void 0!==(r=function(t){return s(o,t)}.apply(e,i))&&(t.exports=r)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function n(t,e){for(var n in e)t[n]=e[n];return t}function i(t){return Array.isArray(t)?t:"object"==typeof t&&"number"==typeof t.length?h.call(t):[t]}function r(t,e,o){if(!(this instanceof r))return new r(t,e,o);var s=t;if("string"==typeof t&&(s=document.querySelectorAll(t)),!s)return void u.error("Bad element for imagesLoaded "+(s||t));this.elements=i(s),this.options=n({},this.options),"function"==typeof e?o=e:n(this.options,e),o&&this.on("always",o),this.getImages(),a&&(this.jqDeferred=new a.Deferred),setTimeout(this.check.bind(this))}function o(t){this.img=t}function s(t,e){this.url=t,this.element=e,this.img=new Image}var a=t.jQuery,u=t.console,h=Array.prototype.slice;r.prototype=Object.create(e.prototype),r.prototype.options={},r.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},r.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&l[e]){for(var n=t.querySelectorAll("img"),i=0;i<n.length;i++){var r=n[i];this.addImage(r)}if("string"==typeof this.options.background){var o=t.querySelectorAll(this.options.background);for(i=0;i<o.length;i++){var s=o[i];this.addElementBackgroundImages(s)}}}};var l={1:!0,9:!0,11:!0};return r.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var n=/url\((['"])?(.*?)\1\)/gi,i=n.exec(e.backgroundImage);null!==i;){var r=i&&i[2];r&&this.addBackground(r,t),i=n.exec(e.backgroundImage)}},r.prototype.addImage=function(t){var e=new o(t);this.images.push(e)},r.prototype.addBackground=function(t,e){var n=new s(t,e);this.images.push(n)},r.prototype.check=function(){function t(t,n,i){setTimeout(function(){e.progress(t,n,i)})}var e=this;if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length)return void this.complete();this.images.forEach(function(e){e.once("progress",t),e.check()})},r.prototype.progress=function(t,e,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&u&&u.log("progress: "+n,t,e)},r.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},o.prototype=Object.create(e.prototype),o.prototype.check=function(){if(this.getIsImageComplete())return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src},o.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},o.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},o.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},o.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},o.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},o.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype=Object.create(o.prototype),s.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},s.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},r.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&(a=e,a.fn.imagesLoaded=function(t,e){return new r(this,t,e).jqDeferred.promise(a(this))})},r.makeJQueryPlugin(),r})},function(t,e,n){var i,r;!function(o,s){i=s,void 0!==(r="function"==typeof i?i.call(e,n,e,t):i)&&(t.exports=r)}("undefined"!=typeof window&&window,function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},i=n[t]=n[t]||[];return-1==i.indexOf(e)&&i.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=n.indexOf(e);return-1!=i&&n.splice(i,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){n=n.slice(0),e=e||[];for(var i=this._onceEvents&&this._onceEvents[t],r=0;r<n.length;r++){var o=n[r];i&&i[o]&&(this.off(t,o),delete i[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t})},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"waterfall-item"},[t._t("default")],2)},r=[];i._withStripped=!0;var o={render:i,staticRenderFns:r};e.a=o}])});