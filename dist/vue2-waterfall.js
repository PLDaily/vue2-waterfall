/*!
 * An AutoHeight Waterfall Component For Vue2
 * v2.0.1 Â©2019 PLDaily <pcd12321@gmail.com>
 * https://github.com/PLDaily/vue2-waterfall#readme
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("Vue")):"function"==typeof define&&define.amd?define(["Vue"],e):"object"==typeof exports?exports.Vue2Waterfall=e(require("Vue")):t.Vue2Waterfall=e(t.Vue)}("undefined"!=typeof self?self:this,function(t){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=3)}([function(t,e){t.exports=function(t,e,i,n,r,l){var a,o=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(a=t,o=t.default);var u="function"==typeof o?o.options:o;e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0),i&&(u.functional=!0),r&&(u._scopeId=r);var f;if(l?(f=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(l)},u._ssrRegister=f):n&&(f=n),f){var d=u.functional,c=d?u.render:u.beforeCreate;d?(u._injectStyles=f,u.render=function(t,e){return f.call(e),c(t,e)}):u.beforeCreate=c?[].concat(c,f):[f]}return{esModule:a,exports:o,options:u}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(5),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={name:"Waterfall",props:{gutterWidth:{type:Number,default:0},gutterHeight:{type:Number,default:0},resizable:{type:Boolean,default:!0},align:{type:String,default:"center"},fixWidth:{type:Number},minCol:{type:Number,default:1},maxCol:{type:Number},percent:{type:Array}},data:function(){return{width:0,itemWidth:100,minWidth:0,maxWidth:0}},mounted:function(){var t=this;r.default.nextTick(function(){t.width=t.$refs.waterfall.offsetWidth,t.resizeHandle()}),this.percent||this.$on("itemRender",function(e){t.width=t.$refs.waterfall.offsetWidth,t.itemWidth=e,t.emit(),t.calMinWidth(),t.calMaxWidth()})},render:function(t){var e=this;if(!this.$slots.default)return t("div",{class:"waterfall",ref:"waterfall"},this.$slots.default);if(this.percent&&this.percent.length>0){var i=this.percent.length,n=this.percent.reduce(function(t,e){return t+e});return t("div",{class:"waterfall",ref:"waterfall",style:{display:"undefined"==typeof window?"none":"block"}},Array.apply(null,{length:i}).map(function(r,l){return t("div",{class:"waterfall-box",style:{width:e.percent[l]*e.width/n+"px",verticalAlign:"top",display:"inline-block"}},e.$slots.default.filter(function(t,e){return e%i===l}))}))}var r=this.fixWidth||this.width,l=parseInt(r/(this.itemWidth+this.gutterWidth))||1;return t("div",{class:"waterfall",ref:"waterfall",style:{display:"undefined"==typeof window?"none":"block",textAlign:this.align,margin:"0 auto"}},Array.apply(null,{length:l}).map(function(i,n){return t("div",{class:"waterfall-box",style:{width:e.itemWidth+"px",padding:"0 "+e.gutterWidth/2+"px",verticalAlign:"top",display:"inline-block"}},e.$slots.default.filter(function(t,e){return e%l===n}))}))},methods:{emit:function(){var t=this;this.$children.map(function(e){return e.$emit("getGutterHeight",t.gutterHeight)})},resizeHandle:function(){this.resizable?this.onResize():this.offResize()},onResize:function(){var t=this;window.addEventListener("resize",function(){t.width=t.$refs.waterfall.offsetWidth},!1)},offResize:function(){var t=this;this.$refs.waterfall.style.width=this.width+"px",window.removeEventListener("resize",function(){t.width=t.$refs.waterfall.offsetWidth},!1)},calMinWidth:function(){this.minCol&&this.minCol>0&&(this.minWidth=(this.itemWidth+this.gutterWidth)*this.minCol,this.$refs.waterfall.style.minWidth=this.minWidth+"px")},calMaxWidth:function(){this.maxCol&&this.maxCol>0&&(this.maxWidth=(this.itemWidth+this.gutterWidth)*this.maxCol,this.$refs.waterfall.style.maxWidth=this.maxWidth+"px")}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"WaterfallItem",props:{width:{type:Number,default:150}},data:function(){return{gutterHeight:0}},mounted:function(){var t=this;this.$on("getGutterHeight",function(e){t.gutterHeight=e}),this.emit()},methods:{emit:function(){this.$parent.$emit("itemRender",this.width)}}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.WaterfallItem=e.Waterfall=void 0;var r=i(4),l=n(r),a=i(6),o=n(a);e.Waterfall=l.default,e.WaterfallItem=o.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i.n(n);for(var l in n)"default"!==l&&function(t){i.d(e,t,function(){return n[t]})}(l);var a=i(0),o=a(r.a,null,!1,null,null,null);o.options.__file="src/Waterfall.vue",e.default=o.exports},function(e,i){e.exports=t},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i.n(n);for(var l in n)"default"!==l&&function(t){i.d(e,t,function(){return n[t]})}(l);var a=i(7),o=i(0),s=o(r.a,a.a,!1,null,null,null);s.options.__file="src/WaterfallItem.vue",e.default=s.exports},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"waterfall-item",style:{marginBottom:t.gutterHeight+"px"}},[t._t("default")],2)},r=[];n._withStripped=!0;var l={render:n,staticRenderFns:r};e.a=l}])});